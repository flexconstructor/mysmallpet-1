!function(t){t.rsSline||(t.rsSline=function(){this.offers={},this.cartList={},this.favoriteList={},this.compareList={},this.stocks={},this.fancyTimeout=2e3,this.ajaxTimeout=0,this.ajaxTimeoutTime=1e3,this.ajaxExec=!1,this.grid={0:0,xs:480,sm:768,md:992,lg:1220},this.pageWidth=this.getPageWidth(),this.pageHeight=this.getPageHeight(),this.fancyOptions={infobar:!1,buttons:!1,slideShow:!1,smallBtn:!0,title:!0,caption:function(){return""},afterClose:function(){void 0!=this.$content&&this.$content.find(".fancybox-title").remove()},beforeLoad:function(t,e){var e=this;if(e.type,e.opts.$orig){var i=e.opts.$orig.data("insert_data");void 0!=i&&(e.opts.ajax.settings.data.ajax_data=i)}},afterLoad:function(t,e){e.$content.filter("[id^=comp_]").length>0&&(e.$content=e.$content.filter("[id^=comp_]").wrap('<div class="fancybox-data"></div>').parent(),e.$slide.find(".fancybox-close").appendTo(e.$content));var i=e.opts.title&&e.opts.title.length?e.opts.title:t.opts.title&&t.opts.title.length?t.opts.title:e.opts.$orig?e.opts.$orig.data("fancybox-title")||e.opts.$orig.attr("title"):void 0;if(void 0!==i&&e.$slide.children(":first").prepend('<div class="fancybox-title">'+i+"</div>"),"ajax"==e.type&&void 0!=e.opts.ajax.settings.data.ajax_data){elementData=BX.parseJSON(e.opts.ajax.settings.data.ajax_data);for(var a in elementData)e.$slide.find('[name="'+a+'"]').val(BX.util.htmlspecialcharsback(elementData[a]))}},afterShow:function(t,e){appSLine.ready(e.$content)},spinnerTpl:'<div class="fancybox-loading" class="loading">\t\t\t\t\t<div class="loading__in loading__1"></div>\t\t\t\t\t<div class="loading__in loading__2"></div>\t\t\t\t\t<div class="loading__in loading__3"></div>\t\t\t\t\t<div class="loading__in loading__4"></div>\t\t\t\t\t<div class="loading__in loading__5"></div>\t\t\t\t\t<div class="loading__in loading__6"></div>\t\t\t\t\t<div class="loading__in loading__7"></div>\t\t\t\t\t<div class="loading__in loading__8"></div>\t\t\t\t</div>',btnTpl:{close:'<svg class="fancybox-close icon-close icon-svg" data-fancybox-close><use xlink:href="#svg-close"></use></svg>',smallBtn:'<svg class="fancybox-close icon-close icon-svg" data-fancybox-close><use xlink:href="#svg-close"></use></svg>'}},this.owlOptions={loop:!0,nav:!0,navClass:["owl-nav__prev js-click","owl-nav__next js-click"],navText:['<svg class="icon-left icon-svg"><use xlink:href="#svg-left"></use></svg>','<svg class="icon-right icon-svg"><use xlink:href="#svg-right"></use></svg>'],responsive:{0:{items:2}},onInitialize:function(){(this.$element.hasClass("grid-wrap")||this.$element.hasClass("js-grid"))&&(this._breakpoint=0)},onInitialized:function(){this.$element.addClass("owl-carousel"),this.$element.closest(".fancybox-inner").length&&$.fancybox.update()},onChanged:function(){this.settings.loop=!(this._items.length<=this.settings.items)&&this.options.loop}},this.owlOptions.responsive[this.grid.xs]={items:2},this.owlOptions.responsive[this.grid.sm]={items:3},this.owlOptions.responsive[this.grid.md]={items:3},this.owlOptions.responsive[this.grid.lg]={items:5}},sec=-1,rsSline.prototype.timer=function(){$(".js_timer").timer({days:".js_timer-d",hours:".js_timer-H",minute:".js_timer-i",second:".js_timer-s",blockTime:".timer__cell",linePercent:".js_timer-progress",textLinePercent:".num_percent"})},rsSline.prototype.setProductCart=function(t){var e=parseInt(t.find(".js-product_id").val());this.cartList&&(this.cartList[e]?t.addClass("is-incart"):t.removeClass("is-incart"))},rsSline.prototype.setProductCompare=function(t){var e=parseInt(t.find(".js-product_id").val());this.compareList&&(this.compareList[e]?t.find(".js-compare").addClass("checked"):t.find(".js-compare").removeClass("checked"))},rsSline.prototype.setProductFavorite=function(t){var e=t.data("product-id");this.favoriteList&&(this.favoriteList[e]?t.find(".js-favorite").addClass("checked"):t.find(".js-favorite").removeClass("checked"))},rsSline.prototype.setProductItems=function(t){var e=$.extend({wrap:"",items:""},t),i=this;if(""==e.items)if(""==e.wrap)var a=$(".js-product");else var a=$(e.wrap).find(".js-product");else var a=e.items;a.each(function(){var t=$(this);i.cartList&&i.setProductCart(t),i.compareList&&i.setProductCompare(t),i.favoriteList&&i.setProductFavorite(t)})},rsSline.prototype.gridInit=function(t){var e=this,i=($.extend({wrap:"",items:""},t),".js-catalog_slider");1024>this.pageWidth&&(i+=", .js-grid"),1024>=this.pageWidth?i+=", .rs_set-default":$(".rs_set-default.owl-carousel").trigger("destroy.owl.carousel").removeClass("owl-carousel").removeAttr("style"),$(i).each(function(){var t=$(this);if(t.hasClass("owl-carousel"))t.find(".owl-stage").hide(),t.removeAttr("style").width(t.parent().width()-1).find(".owl-stage").show();else{var i={dots:!1,responsive:{}};i.responsive[0]={items:2},i.responsive[e.grid.xs]={items:2},i.responsive[e.grid.sm]={items:3},i.responsive[e.grid.md]={items:4},i.responsive[e.grid.lg]={items:5},t.width(t.parent().width()-1).owlCarousel($.extend(!0,{},e.owlOptions,i))}})},rsSline.prototype.closePopup=function(e){var i={backurl:"",iCloseTimeout:this.fancyTimeout};e=$.extend(!0,i,e||{}),setTimeout(function(){if(e.backurl&&e.backurl.length>0){if(e.backurl==t.top.location.href.replace(t.top.location.origin,""))return;t.top.location.href=e.backurl}else $.fancybox.getInstance()&&$.fancybox.getInstance().close()},e.iCloseTimeout)},rsSline.prototype.ready=function(e){e||(e=document);var i=this;this.setup(),this.setProductItems(),setInterval(function(){i.timer()},1e3),$(e).find(".js-ajax_link, .js-ajax_fancy").on("click.fb-start",function(e){e.preventDefault();var i=$(this);if(t.appSLine.getPageWidth()<t.appSLine.grid.sm){if(i.attr("href")){var a=i.data("insert_data");t.appSLine.getPageWidth()<=t.appSLine.grid.xs&&void 0!=a&&BX.localStorage.set("ajax_data",a);var s=document.createElement("form");s.action=i.attr("href"),s.method="post",s.enctype="multipart/form-data";var n=document.createElement("input");return n.type="text",n.name="backurl",n.value=t.location.href,s.appendChild(n),document.body.appendChild(s),s.submit(),!1}}else{var o=$.fancybox.getInstance();if(o)return o.showLoading(),$.ajax({type:"POST",dataType:"html",data:{backurl:t.location.href.replace(t.location.origin,"")},url:i.attr("href"),success:function(t){o.current.opts.$orig=i,o.trigger("beforeShow",!1),o.trigger("beforeLoad",o.current),o.setContent(o.current,t)},colmplete:function(){o.hideLoading()}}),!1;$.fancybox.open(this,$.extend({},appSLine.fancyOptions,{arrows:!1,loop:!1,onInit:function(e){var i=t.location.href.replace(t.location.origin,"").replace(s?"#"+s:"","");for(var a in e.group)if(e.group[a].opts.$orig&&(e.group[a].opts.$orig.hasClass("js-ajax_link")||e.group[a].opts.$orig.hasClass("js-ajax_fancy"))&&(e.group[a].type="ajax")){e.group[a].opts.ajax.settings.type="POST";var s=e.group[a].opts.$orig.data("fancybox");e.group[a].opts.ajax.settings.data.backurl=i}}}))}}),null!==t.history.state&&BX.type.isNotEmptyObject(t.history.state)&&(BX.scrollToNode(t.history.state.id),setTimeout(function(){"scrollRestoration"in t.history&&(t.history.scrollRestoration="manual",BX.scrollToNode(t.history.state.id),setTimeout(function(){t.history.scrollRestoration="auto"},1e3))},1))},rsSline.prototype.onResize=function(){this.setup()},rsSline.prototype.setup=function(t){this.pageWidth=this.getPageWidth(),this.pageHeight=this.getPageHeight();var e=$("#webpage");e.children(".l-main").css("height","auto"),e.height()<this.pageHeight&&e.children(".l-main").css("min-height",this.pageHeight-e.children(".l-header").height()-e.children(".l-footer").height()),this.gridInit()},rsSline.prototype.getPageWidth=function(e){return t.innerWidth?t.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0},rsSline.prototype.getPageHeight=function(e){return t.innerHeight?t.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0},rsSline.prototype.encodeURI=function(t){var e=t.split(/(:\/\/|:\\d+\/|\/|\?|=|&)/),i="";if(e.length>0)for(var a in e)i+=a%2?e[a]:encodeURIComponent(e[a]);return i},t.rsSline=rsSline)}(window);var appSLine=new rsSline;!function(t){appSLine.gridInit()}(jQuery),void 0!==window.frameCacheVars?BX.addCustomEvent("onFrameDataReceived",function(t){appSLine.ready()}):BX.ready(function(){appSLine.ready()}),$(window).resize(function(){appSLine.onResize()}),function(t){t.fn.onImageLoad=function(e){function i(t){return!!t.complete&&(void 0===t.naturalWidth||0!==t.naturalWidth)}return this.each(function(){var a=t(this);a.is("img")&&t.isFunction(e)&&(a.one("load",e),i(this)&&a.trigger("load"))})}}(jQuery),function(t){t.fn.setHtmlByUrl=function(e){var i=t.extend({url:""},e);return this.each(function(){if(""!=i.url){var e=t(this);t.ajax({type:"GET",dataType:"html",url:i.url,beforeSend:function(){return data=BX.localStorage.get(i.url),!data||(BX.localStorage.set(i.url,data),e.html(data),!1)},success:function(t){BX.localStorage.set(i.url,t),e.html(t)}})}})}}(jQuery),function(t){t.fn.rsToggleDark=function(e){return e=t.extend(t.fn.rsToggleDark.defaults,e),this.each(function(){var i=t(this),a=i.children(".overlay__back");e.progress&&a.length?$status=a.find(".load__status").html(e.message):i.hasClass("overlay")?i.removeClass("overlay").children(".overlay__back").remove():(i.addClass("overlay"),a=t('<div class="overlay__back vcenter"><div class="overlay__progress vcenter__in"><div class="load"><div class="load__ball load__1"><div class="load__inner"></div></div><div class="load__ball load__2"><div class="load__inner"></div></div><div class="load__ball load__3"><div class="load__inner"></div></div><div class="load__ball load__4"><div class="load__inner"></div></div><div class="load__ball load__5"><div class="load__inner"></div></div></div></div></div>'),a.appendTo(i))})}}(jQuery),$(document).on("submit",".fancybox-slide .js-ajax_form",function(t){var e=$(this),i="frame"+Math.round(1e3*Math.random()),a=$("<input>",{type:"hidden",name:"rs_ajax__page",value:"Y"});$iframe=$("<iframe></iframe>",{id:i,name:i,style:"display:none"}),$iframe.on("load",function(){$(this).contents().find("body").html().length&&$.fancybox.getInstance().setContent($.fancybox.getInstance().current,$(this).contents().find("body").html())}),e.append(a).attr("target",i),$("body").append($iframe),BX.onCustomEvent("onAjaxSuccess"),$.fancybox.getInstance().showLoading()}),$(document).on("mouseenter",".js-basket-minus, .js-basket-plus",function(){$("html").addClass("disableSelection")}),$(document).on("mouseleave",".js-basket-minus, .js-basket-plus",function(){$("html").removeClass("disableSelection")}),$(document).on("click",".js-basket-plus",function(){clearTimeout(rsSline.ajaxTimeout);var t=$(this).siblings(".js-quantity"),e=parseFloat(t.val()),i=parseFloat(t.attr("step")),a=i.toString().split(".",2)[1],s=0;void 0!==a&&(s=a.length),t.val((e+i).toFixed(s)),rsSline.ajaxTimeout=setTimeout(function(){t.trigger("change")},appSLine.ajaxTimeoutTime)}),$(document).on("click",".js-basket-minus",function(){clearTimeout(rsSline.ajaxTimeout);var t=$(this).siblings(".js-quantity"),e=parseFloat(t.val()),i=parseFloat(t.attr("step")),a=i.toString().split(".",2)[1],s=0;void 0!==a&&(s=a.length),e>i&&(t.val((e-i).toFixed(s)),rsSline.ajaxTimeout=setTimeout(function(){t.trigger("change")},appSLine.ajaxTimeoutTime))}),$(document).on("blur",".js-quantity",function(){var t=$(this),e=parseFloat(t.val()),i=parseFloat(t.attr("step")),a=i.toString().split(".",2)[1],s=0;void 0!==a&&(s=a.length),0<e?t.val((i*Math.floor(e/i)).toFixed(s)):t.val(i)}),$(document).on("click",".js-product .js-add2cart",function(t){var e=$(this),i=$(this.form),a=parseInt(i.find(".js-product_id").val());if(a>0){var s=i.closest(".js-product"),n=s.children(".catalog_item__inner"),o=e.attr("href"),r={type:"POST",dataType:"html",success:function(t){t=BX.parseJSON(t),"OK"===t.STATUS&&(BX.onCustomEvent("OnBasketChange"),appSLine.cartList[a]=!0,appSLine.setProductCart(s))},error:function(){console.warn("add2cart - error responsed?")},complete:function(){n.rsToggleDark()}};o?(r.url=o,r.data="ajax_basket=Y"):r.data=$(this.form).serialize()+"&ajax_basket=Y";s.find(".product_props").find("input").length>0?r.data+="&"+s.find(".product_props").find("input").serialize():r.data+="&props[0]=0",n.length<1&&(n=s),n.rsToggleDark({progress:!0}),$.ajax(r)}else console.warn("add product to basket failed");return!1}),$(document).on("click",".js-product .js-compare",function(t){t.preventDefault();var e=$(this),i=$(this).closest(".js-product"),a=i.data();if(void 0!=a){var s=a.offerId?a.offerId:a.productId,n=e.attr("href").replace("#ID#",s),o=i.children(".rs_product-inner"),r={type:"POST",data:{ajax_action:"Y"},url:n,success:function(t){if(t=BX.parseJSON(t),"OK"===t.STATUS&&(appSLine.compareList[s]?delete appSLine.compareList[s]:appSLine.compareList[s]=!0,!t.COUNT)){t.COUNT=0;for(var e in appSLine.compareList)t.COUNT++}appSLine.setProductCompare(i),BX.onCustomEvent("OnCompareChange")},error:function(){console.warn("add2cmp - error responsed?")},complete:function(){o.rsToggleDark()}};o.length<1&&(o=i),appSLine.compareList[s]&&(r.url=r.url.replace("ADD_TO_COMPARE_LIST","DELETE_FROM_COMPARE_LIST")),o.rsToggleDark({progress:!0}),$.ajax(r)}else console.warn("add product to compare failed");return!1}),$(document).on("click",".js-product .js-product__unsubscribe",function(t){t.preventDefault();var e=$(this),i=$(this).closest(".js-product"),a=e.data("subscribe-id");if(void 0!=a){var s,n=i.children(".rs_product-inner"),o=[];n.length<1&&(n=i),n.rsToggleDark({progress:!0});for(s in a)if(a.hasOwnProperty(s)){var r={type:"POST",data:{sessid:BX.bitrix_sessid(),deleteSubscribe:"Y",itemId:s,listSubscribeId:a[s]?a[s]:[]},url:"/bitrix/components/bitrix/catalog.product.subscribe.list/ajax.php",success:function(t){t=BX.parseJSON(t),t.success&&location.reload()},error:function(){console.warn("deleteSubscribe - error responsed?")},complete:function(){}};o.push($.ajax(r))}$.when.apply($,o).done(function(){window.location.reload(),n.rsToggleDark()})}return!1});