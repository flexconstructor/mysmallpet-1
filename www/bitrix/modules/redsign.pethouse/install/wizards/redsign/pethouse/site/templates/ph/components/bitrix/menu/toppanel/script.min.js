!function(e,t,s,i){function n(t,s){this.options=e.extend({},n.defaults,s),this.settings=e.extend({},this.defaults),this.$element=e(t),this._items=[],this._more=[],this.setup(),this.init()}n.defaults={initedClass:"inited",refreshClass:"refreshing",itemElement:"li",itemClass:"rmenu__item",subMenuClass:"rmenu__sub",moreClass:"rmenu__more",moreMenuElement:"ul",moreMenuClass:"rmenu__sub",toggleClass:"rmenu__toggle",moreInner:"• • •"},n.prototype.init=function(){this.$element.children(":not(."+this.settings.moreClass+")").filter(function(){return 1===this.nodeType}).each(e.proxy(function(t,s){this._items.push(e(s))},this)),this.$more=this.$element.children("."+this.settings.moreClass),this.$more.length||(this.$more=e("<"+this.settings.itemElement+"/>",{class:this.settings.itemClass+" "+this.settings.moreClass,style:"display:none",html:this.settings.moreInner}).prependTo(this.$element)),this.$moreMenu=this.$more.children("."+this.settings.moreMenuClass),this.$moreMenu.length||(this.$moreMenu=e("<"+this.settings.moreMenuElement+"/>",{class:this.settings.moreMenuClass}).appendTo(this.$more)),this.$element.is(":visible")&&this.refresh(),this.listenEvents(),this.$element.addClass(this.settings.initedClass)},n.prototype.refresh=function(){this.setup(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass)},n.prototype.update=function(){if(this.settings.dropdown)this.$element.addClass("hml_menu-drop"),this._more=this._items;else{if(this.$element.removeClass("hml_menu-drop"),this.menuWidth=this.$element.innerWidth(),this._more.length){for(var e in this._more)this._more[e].hide();this.$element.html(this._items.concat([this.$more]))}this._more=[];var t=0;for(var e in this._items)itemWidth=this._items[e].outerWidth()+parseInt(this._items[e].css("margin-left"))+parseInt(this._items[e].css("margin-right")),this.menuWidth<t+itemWidth||this._more.length>0?this._more.push(this._items[e].show()):(t+=itemWidth,this._items[e].show())}this._more.length>0?(itemWidth=this.$more.outerWidth()+parseInt(this.$more.css("margin-left"))+parseInt(this.$more.css("margin-right")),this.menuWidth<t+itemWidth&&this._more.unshift(this._items[this._items.length-this._more.length-1]),this.$more.show(),this.$moreMenu.html(this._more)):(this.$more.hide(),this.$moreMenu.html(""))},n.prototype.setup=function(){var t=this.viewport(),s=this.options.responsive,i=-1,n=null;s?(e.each(s,function(e){e<=t&&e>i&&(i=Number(e))}),n=e.extend({},this.options,s[i]),delete n.responsive):n=e.extend({},this.options),null!==this.settings&&this._breakpoint===i||(this._breakpoint=i,this.settings=n)},n.prototype.listenEvents=function(){var s=this;e(t).resize(e.proxy(s.refresh,s))},n.prototype.viewport=function(){var e;if(t.innerWidth)e=t.innerWidth;else{if(!s.documentElement||!s.documentElement.clientWidth)throw"Can not detect viewport width.";e=s.documentElement.clientWidth}return e},e.fn.slineTopMenu=function(t){return this.each(function(){e.data(this,"slineTopMenu")||e.data(this,"slineTopMenu",new n(this,t))})}}(jQuery,window,document),$(document).ready(function(){$(".menu_top").slineTopMenu({dropdown:!0,itemClass:"menu_top__item",moreClass:"hml_menu__more",moreMenuClass:"menu_top__sub",responsive:{768:{dropdown:!1}}})});